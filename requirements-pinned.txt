# ==============================================================================
# Angel Intelligence - Pinned Dependencies (Fast Install)
# ==============================================================================
# Use this for faster installs - versions are locked to avoid resolver backtracking
# 
# For production Kubernetes, use modular files in requirements/ folder instead:
#   - requirements/api.txt          (API pod)
#   - requirements/worker.txt       (Worker pod)
#   - requirements/transcription.txt (Transcription pod)
#
# See requirements/README.md for details.
# ==============================================================================

# ------------------------------------------------------------------------------
# Web Framework
# ------------------------------------------------------------------------------
fastapi==0.115.0
uvicorn[standard]==0.32.0
python-multipart==0.0.12
pydantic==2.10.0
pydantic-settings==2.6.1
python-dotenv==1.0.1
httpx==0.27.2

# ------------------------------------------------------------------------------
# Core Dependencies (PyTorch installed separately with CUDA)
# ------------------------------------------------------------------------------
numpy==1.26.4

# ------------------------------------------------------------------------------
# Audio Processing
# ------------------------------------------------------------------------------
ffmpeg-python==0.2.0
soundfile==0.12.1
scipy==1.14.1

# ------------------------------------------------------------------------------
# Storage and Database
# ------------------------------------------------------------------------------
boto3==1.35.0
mysql-connector-python==9.0.0
requests==2.32.3

# ------------------------------------------------------------------------------
# LLM and AI Models (pinned for compatibility)
# ------------------------------------------------------------------------------
transformers==4.46.0
accelerate==1.0.1
huggingface-hub==0.26.2
safetensors==0.4.5
tokenizers==0.20.3
bitsandbytes==0.44.1
peft==0.13.2
datasets==3.0.0
json-repair==0.30.0

# ------------------------------------------------------------------------------
# PII Detection and Redaction
# ------------------------------------------------------------------------------
presidio-analyzer==2.2.355
presidio-anonymizer==2.2.355
spacy==3.7.6

# ------------------------------------------------------------------------------
# Qwen Omni Utils (for audio analysis)
# ------------------------------------------------------------------------------
qwen-omni-utils==0.0.6

# ------------------------------------------------------------------------------
# WhisperX dependencies
# ------------------------------------------------------------------------------
faster-whisper==1.0.3
ctranslate2==4.4.0
pyannote-audio==3.3.2

# Download spaCy model after install:
# python -m spacy download en_core_web_lg
