<mxfile host="65bd71144e">
    <diagram id="data-pipeline" name="Batch Processing Pipeline">
        <mxGraphModel dx="549" dy="533" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="ANGEL INTELLIGENCE - BATCH PROCESSING PIPELINE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a1a2e;" parent="1" vertex="1">
                    <mxGeometry x="400" y="20" width="800" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="subtitle" value="99.99% of recordings flow through this batch worker pipeline" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#666666;" parent="1" vertex="1">
                    <mxGeometry x="500" y="55" width="600" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="stage1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f4f8;strokeColor=#0077b6;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="40" y="100" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="stage1-num" value="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#0077b6;strokeColor=#023e8a;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="50" y="110" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage1-title" value="DATABASE POLL" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#0077b6;" parent="1" vertex="1">
                    <mxGeometry x="85" y="110" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage1-content" value="Worker polls MySQL&#xa;for pending recordings&#xa;&#xa;SELECT * FROM&#xa;ai_call_recordings&#xa;WHERE status = &#39;pending&#39;&#xa;&#xa;Runs every 10 seconds" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="55" y="145" width="170" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="arrow1" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#0077b6;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="240" y="190" as="sourcePoint"/>
                        <mxPoint x="280" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3cd;strokeColor=#f77f00;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="280" y="100" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="stage2-num" value="2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f77f00;strokeColor=#d62828;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="290" y="110" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage2-title" value="AUDIO DOWNLOAD" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#f77f00;" parent="1" vertex="1">
                    <mxGeometry x="325" y="110" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage2-content" value="Download from PBX/Archive&lt;br&gt;&lt;br&gt;audio_downloader.py&lt;br&gt;&lt;br&gt;• Fetch GSM from R2&lt;br&gt;• Convert GSM → WAV&lt;br&gt;• Validate audio format&lt;br&gt;• Store temp file" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="295" y="145" width="170" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="arrow2" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#f77f00;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="480" y="190" as="sourcePoint"/>
                        <mxPoint x="520" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7e6;strokeColor=#2d6a4f;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="520" y="100" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="stage3-num" value="3" style="ellipse;whiteSpace=wrap;html=1;fillColor=#2d6a4f;strokeColor=#1b4332;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="530" y="110" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage3-title" value="TRANSCRIPTION" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#2d6a4f;" parent="1" vertex="1">
                    <mxGeometry x="565" y="110" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage3-content" value="WhisperX large-v3&#xa;&#xa;transcriber.py&#xa;&#xa;• Speech-to-text&#xa;• Word timestamps&#xa;• Speaker diarization&#xa;• Generates segment_id" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="535" y="145" width="170" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="arrow3" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#2d6a4f;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="720" y="190" as="sourcePoint"/>
                        <mxPoint x="760" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="760" y="100" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="stage4-num" value="4" style="ellipse;whiteSpace=wrap;html=1;fillColor=#c2185b;strokeColor=#880e4f;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="770" y="110" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage4-title" value="PII DETECTION" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#c2185b;" parent="1" vertex="1">
                    <mxGeometry x="805" y="110" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage4-content" value="Protect sensitive data&#xa;&#xa;pii_detector.py&#xa;&#xa;• Detect card numbers&#xa;• Find phone numbers&#xa;• Identify addresses&#xa;• Redact from transcript" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="775" y="145" width="170" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="arrow4" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#c2185b;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="960" y="190" as="sourcePoint"/>
                        <mxPoint x="1000" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage5-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ede7f6;strokeColor=#673ab7;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="1000" y="100" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="stage5-num" value="5" style="ellipse;whiteSpace=wrap;html=1;fillColor=#673ab7;strokeColor=#4527a0;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="1010" y="110" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage5-title" value="VOICE FINGERPRINT" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#673ab7;" parent="1" vertex="1">
                    <mxGeometry x="1045" y="110" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage5-content" value="Identify speakers (Optional)&lt;br&gt;&lt;br&gt;voice_fingerprint.py&lt;br&gt;&lt;br&gt;• Extract embeddings&lt;br&gt;• Match known agents&lt;br&gt;• Label agent/caller&lt;br&gt;• Tag segments" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="1015" y="145" width="170" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="arrow5" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#673ab7;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1200" y="190" as="sourcePoint"/>
                        <mxPoint x="1240" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage6-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1565c0;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="1240" y="100" width="200" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="stage6-num" value="6" style="ellipse;whiteSpace=wrap;html=1;fillColor=#1565c0;strokeColor=#0d47a1;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="1250" y="110" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage6-title" value="CONFIG LOAD" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#1565c0;" parent="1" vertex="1">
                    <mxGeometry x="1285" y="110" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage6-content" value="Global / Client-specific rules&lt;br&gt;&lt;br&gt;ClientConfig model&lt;br&gt;&lt;br&gt;• Load from DB/JSON&lt;br&gt;• Topics &amp;amp; rubrics&lt;br&gt;• Quality signals&lt;br&gt;• Vulnerability tiers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="1255" y="145" width="170" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="row2-connector" value="" style="endArrow=classic;html=1;rounded=1;strokeColor=#9d4edd;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1340" y="280" as="sourcePoint"/>
                        <mxPoint x="1340" y="340" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="1340" y="310"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage7-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e6ff;strokeColor=#9d4edd;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="1000" y="340" width="440" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="stage7-num" value="7" style="ellipse;whiteSpace=wrap;html=1;fillColor=#9d4edd;strokeColor=#6a1b9a;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="1010" y="350" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage7-title" value="LLM ANALYSIS (vLLM → Qwen2.5-72B)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#9d4edd;" parent="1" vertex="1">
                    <mxGeometry x="1050" y="350" width="280" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage7-content" value="analyzer.py sends transcript + config to vLLM&lt;br&gt;&lt;br&gt;Analysis extracts:&lt;br&gt;• Call summary&lt;br&gt;• Sentiment score (0-10)&lt;br&gt;• Key topics detected&lt;br&gt;• Agent actions taken&lt;br&gt;• Performance scores (rubric)&lt;br&gt;• Score impacts (+5 to -5)&lt;br&gt;• Quality score (0-100)&lt;br&gt;• Compliance flags&lt;br&gt;• Action items" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="1015" y="383" width="225" height="145" as="geometry"/>
                </mxCell>
                <mxCell id="stage7-llm" value="vLLM :30800&#xa;Load Balanced&#xa;2x Pods" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9d4edd;strokeColor=#6a1b9a;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="1240" y="390" width="100" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="stage7-model" value="Qwen2.5-72B&#xa;AWQ Q4&#xa;~40GB each" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7b2cbf;strokeColor=#6a1b9a;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="1350" y="390" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="stage7-arrow" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;strokeColor=#9d4edd;strokeWidth=2;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1340" y="420" as="sourcePoint"/>
                        <mxPoint x="1350" y="420" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow7" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#9d4edd;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1000" y="440" as="sourcePoint"/>
                        <mxPoint x="960" y="440" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage8-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#388e3c;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="520" y="340" width="440" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-num" value="8" style="ellipse;whiteSpace=wrap;html=1;fillColor=#388e3c;strokeColor=#1b5e20;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="530" y="350" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-title" value="DATABASE PERSIST" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#388e3c;" parent="1" vertex="1">
                    <mxGeometry x="570" y="350" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-tables" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#388e3c;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="535" y="390" width="200" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-table1" value="ai_call_recordings&#xa;→ Mark completed" style="text;html=1;strokeColor=none;fillColor=#c8e6c9;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontColor=#1b5e20;" parent="1" vertex="1">
                    <mxGeometry x="545" y="400" width="180" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-table2" value="ai_call_transcriptions&#xa;→ Store transcript + segments" style="text;html=1;strokeColor=none;fillColor=#c8e6c9;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontColor=#1b5e20;" parent="1" vertex="1">
                    <mxGeometry x="545" y="445" width="180" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-table3" value="ai_call_analysis&#xa;→ Store analysis JSON" style="text;html=1;strokeColor=none;fillColor=#c8e6c9;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=9;fontColor=#1b5e20;" parent="1" vertex="1">
                    <mxGeometry x="545" y="490" width="180" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-mysql" value="MySQL&#xa;(External Server)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2a9d8f;strokeColor=#1d6f64;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
                    <mxGeometry x="760" y="410" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="stage8-arrow" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#388e3c;strokeWidth=2;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="735" y="435" as="sourcePoint"/>
                        <mxPoint x="760" y="435" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="arrow8" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#388e3c;strokeWidth=3;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="520" y="440" as="sourcePoint"/>
                        <mxPoint x="480" y="440" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="stage9-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffebee;strokeColor=#d32f2f;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="40" y="340" width="440" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="stage9-num" value="9" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d32f2f;strokeColor=#b71c1c;fontColor=#ffffff;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="50" y="350" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage9-title" value="CLEANUP &amp; RETENTION" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#d32f2f;" parent="1" vertex="1">
                    <mxGeometry x="90" y="350" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="stage9-content" value="Audio retention policy:&lt;br&gt;&lt;br&gt;• Default: DELETE after processing&lt;br&gt;• If retain_audio=true: Keep in R2&lt;br&gt;&lt;br&gt;Cleanup:&lt;br&gt;• Remove temp WAV file&lt;br&gt;• Log processing time&lt;br&gt;• Update status to &#39;completed&#39;&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" parent="1" vertex="1">
                    <mxGeometry x="55" y="385" width="165" height="145" as="geometry"/>
                </mxCell>
                <mxCell id="stage9-r2" value="R2 Storage&#xa;(Optional Retain)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f77f00;strokeColor=#d62828;fontSize=10;fontColor=#ffffff;dashed=1;" parent="1" vertex="1">
                    <mxGeometry x="365" y="410" width="100" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="segment-id-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e6;strokeColor=#ffc107;strokeWidth=2;dashed=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="570" width="1400" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="segment-id-title" value="SEGMENT ID TRACEABILITY" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#ffc107;" parent="1" vertex="1">
                    <mxGeometry x="50" y="575" width="250" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="segment-id-flow" value="transcriber.py generates segment_id (UUID) → Attached to each transcript segment → Flows to analyzer.py → Preserved in LLM prompt → Returned in analysis JSON → Stored in MySQL → Queryable for debugging" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#666666;" parent="1" vertex="1">
                    <mxGeometry x="55" y="600" width="1370" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="timing-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;strokeWidth=2;dashed=1;" parent="1" vertex="1">
                    <mxGeometry x="40" y="670" width="1400" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="timing-title" value="TYPICAL PROCESSING TIME" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontColor=#7b1fa2;" parent="1" vertex="1">
                    <mxGeometry x="50" y="675" width="250" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="timing-content" value="5-minute call: ~30-60 seconds total  |  Download: ~2s  |  Transcription: ~15-30s  |  PII: ~1s  |  Fingerprint: ~2s  |  LLM Analysis: ~10-20s  |  DB Write: ~1s" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#666666;" parent="1" vertex="1">
                    <mxGeometry x="55" y="700" width="1370" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="Error handling:&lt;br&gt;• Mark as &#39;failed&#39; if error&lt;br&gt;• Retry up to 3 times&lt;br&gt;• next_retry_at = NOW() + 1 hour" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#333333;" vertex="1" parent="1">
                    <mxGeometry x="222.5" y="384" width="137.5" height="145" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>